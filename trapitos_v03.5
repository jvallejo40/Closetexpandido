<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Juego de Preguntas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            letter-spacing: 1px;
        }
        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Ajuste para responsividad */
            gap: 20px;
            margin-bottom: 30px;
            box-sizing: border-box;
        }
        .category {
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            position: relative;
            padding-top: 20px;
            overflow: hidden;
            border: 12px solid white;
            transform: perspective(800px) rotateX(2deg);
            transition: all 0.3s ease;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .category:hover {
            transform: perspective(800px) rotateX(0);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
        }
        /* Colores espec√≠ficos para cada categor√≠a */
        .category[data-category="autoconcepto"] {
            background-color: #c39bd3; /* Violeta suave */
            color: white;
        }
        .category[data-category="relaciones"] {
            background-color: #f5b7b1; /* Rojo suave */
            color: white;
        }
        .category[data-category="cultura"] {
            background-color: #aed6f1; /* Azul suave */
            color: white;
        }
        .category[data-category="experiencias"] {
            background-color: #fad7a0; /* Naranja suave */
            color: white;
        }
        .category-emoji {
            position: absolute;
            top: 0;
            left: 0;
            background-color: white;
            color: black;
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom-right-radius: 8px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        .category h2 {
            margin: 0 0 15px 0;
            font-size: 1.2rem; /* Ajustado para pantallas m√°s peque√±as */
            padding-left: 65px;
            text-align: left;
            min-height: 50px; /* Ajustado para pantallas m√°s peque√±as */
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .category-title {
            text-transform: capitalize;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        .category-subtitle {
            font-size: 0.7rem;
            font-style: italic;
            font-weight: 300;
            opacity: 0.8;
        }
        .category-levels {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 8px;
        }
        .level-btn {
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 0;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: 500;
            font-size: 0.8rem; /* Ajustado para pantallas m√°s peque√±as */
            text-align: left;
            padding-left: 10px; /* Ajustado para pantallas m√°s peque√±as */
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .level-btn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        /* Estilos para botones seg√∫n la categor√≠a */
        .category[data-category="autoconcepto"] .level-btn.easy {
            background-color: #9b59b6; /* Versi√≥n m√°s oscura del violeta */
        }
        .category[data-category="autoconcepto"] .level-btn.medium {
            background-color: #8e44ad; /* A√∫n m√°s oscuro */
        }
        .category[data-category="autoconcepto"] .level-btn.hard {
            background-color: #6c3483; /* El m√°s oscuro */
        }
        
        .category[data-category="relaciones"] .level-btn.easy {
            background-color: #e74c3c; /* Versi√≥n m√°s oscura del rojo */
        }
        .category[data-category="relaciones"] .level-btn.medium {
            background-color: #c0392b; /* A√∫n m√°s oscuro */
        }
        .category[data-category="relaciones"] .level-btn.hard {
            background-color: #922b21; /* El m√°s oscuro */
        }
        
        .category[data-category="cultura"] .level-btn.easy {
            background-color: #3498db; /* Versi√≥n m√°s oscura del azul */
        }
        .category[data-category="cultura"] .level-btn.medium {
            background-color: #2980b9; /* A√∫n m√°s oscuro */
        }
        .category[data-category="cultura"] .level-btn.hard {
            background-color: #1f618d; /* El m√°s oscuro */
        }
        
        .category[data-category="experiencias"] .level-btn.easy {
            background-color: #f39c12; /* Versi√≥n m√°s oscura del naranja */
        }
        .category[data-category="experiencias"] .level-btn.medium {
            background-color: #d35400; /* A√∫n m√°s oscuro */
        }
        .category[data-category="experiencias"] .level-btn.hard {
            background-color: #a04000; /* El m√°s oscuro */
        }
        
        /* Estilos para el popup */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .popup {
            background-color: #fff;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .popup-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .popup-header h2 {
            margin: 0;
            color: #2c3e50;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }
        .popup-header h3 {
            margin: 5px 0 0 0;
            font-size: 0.9rem; /* Ajustado para pantallas m√°s peque√±as */
            color: #7f8c8d;
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
        }
        .question {
            font-family: 'Poppins', sans-serif;
            font-size: 1rem; /* Ajustado para pantallas m√°s peque√±as */
            line-height: 1.6;
            margin-bottom: 20px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            font-weight: 400;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .answer-reveal {
            background-color: #f5f6fa;
            border-left: 4px solid #3498db;
            padding: 10px 15px;
            margin-top: 15px;
            display: none;
        }
        .popup-buttons {
            display: flex;
            flex-direction: column; /* Cambiado a columna para pantallas peque√±as */
            gap: 10px; /* A√±adido gap para separar los botones */
            margin-top: 25px;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
            font-family: 'Poppins', sans-serif;
            width: 100%; /* Para que los botones se expandan en pantallas peque√±as */
            box-sizing: border-box; /* A√±adido para el modelo de caja */
            text-align: center;
        }
        .btn-success {
            background-color: #2ecc71;
            color: white;
        }
        .btn-success:hover {
            background-color: #27ae60;
        }
        .btn-change {
            background-color: #e74c3c;
            color: white;
        }
        .btn-change:hover {
            background-color: #c0392b;
        }
        .toggleAnswer {
            background-color: #9b59b6;
            color: white;
            font-size: 0.8rem; /* Ajustado para pantallas m√°s peque√±as */
            padding: 8px 15px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
            box-sizing: border-box; /* A√±adido para el modelo de caja */
        }
        .toggleAnswer:hover {
            background-color: #8e44ad;
        }
        .close-popup {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #95a5a6;
            background: none;
            border: none;
            transition: color 0.3s;
            font-family: 'Poppins', sans-serif;
        }
        .close-popup:hover {
            color: #e74c3c;
        }

        /* Media query para pantallas m√°s peque√±as (m√≥viles) */
        @media (max-width: 768px) {
            .container {
                padding: 10px; /* Reducir el padding general del contenedor en pantallas peque√±as */
            }
            .categories {
                grid-template-columns: 1fr; /* Cambiar a una sola columna */
                gap: 15px;
            }
            .category {
                margin-bottom: 15px; /* A√±adir margen inferior entre categor√≠as */
                padding: 10px;
            }
            .category h2 {
                font-size: 1.1rem; /* Reducir el tama√±o del t√≠tulo de la categor√≠a */
                padding-left: 55px;
                min-height: 40px;
            }
            .category-emoji {
                width: 50px;
                height: 50px;
                font-size: 2rem;
            }
            .level-btn {
                font-size: 0.75rem;
                padding: 8px 10px;
            }
            .popup {
                padding: 15px;
            }
            .popup-header h2 {
                font-size: 1.2rem;
            }
            .popup-header h3 {
                font-size: 0.8rem;
            }
            .question {
                font-size: 0.9rem;
                padding: 10px;
            }
            .btn {
                font-size: 0.9rem;
                padding: 10px 15px;
            }
            .popup-buttons {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Trapitos Al Sol</h1>
        
        <div id="categories-screen">
            <div class="categories">
                <div class="category" data-category="autoconcepto">
                    <div class="category-emoji">üëï</div>
                    <h2>
                        <span class="category-title">Lo Que Nunca Falta</span>
                        <span class="category-subtitle">(Autoconcepto)</span>
                    </h2>
                    <div class="category-levels">
                        <button class="level-btn easy" data-category="autoconcepto" data-level="1">N1 Primera capa</button>
                        <button class="level-btn medium" data-category="autoconcepto" data-level="2">N2 Etiqueta interna</button>
                        <button class="level-btn hard" data-category="autoconcepto" data-level="3">N3 Costura torcida</button>
                    </div>
                </div>
                <div class="category" data-category="relaciones">
                    <div class="category-emoji">üëñ</div>
                    <h2>
                        <span class="category-title">Lo Que Hered√©</span>
                        <span class="category-subtitle">(Relaciones)</span>
                    </h2>
                    <div class="category-levels">
                        <button class="level-btn easy" data-category="relaciones" data-level="1">N1 Ropa prestada</button>
                        <button class="level-btn medium" data-category="relaciones" data-level="2">N2 Hilos compartidos</button>
                        <button class="level-btn hard" data-category="relaciones" data-level="3">Costura que raspa</button>
                    </div>
                </div>
                <div class="category" data-category="cultura">
                    <div class="category-emoji">üëü</div>
                    <h2>
                        <span class="category-title">Lo Que Uso Sin Pensar</span>
                        <span class="category-subtitle">(Cultura)</span>
                    </h2>
                    <div class="category-levels">
                        <button class="level-btn easy" data-category="cultura" data-level="1">N1 Moda del momento</button>
                        <button class="level-btn medium" data-category="cultura" data-level="2">N2 Estilo impuesto</button>
                        <button class="level-btn hard" data-category="cultura" data-level="3">N3 Uniforme invisible</button>
                    </div>
                </div>
                <div class="category" data-category="experiencias">
                    <div class="category-emoji">üß≥</div>
                    <h2>
                        <span class="category-title">Lo Que No Quiero Tirar</span>
                        <span class="category-subtitle">(Experiencias)</span>
                    </h2>
                    <div class="category-levels">
                        <button class="level-btn easy" data-category="experiencias" data-level="1">N1 Recuerdos doblados</button>
                        <button class="level-btn medium" data-category="experiencias" data-level="2">N2 Calzado inc√≥modo</button>
                        <button class="level-btn hard" data-category="experiencias" data-level="3">N3 Arrugas profundas</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="popup-overlay" id="question-popup">
            <div class="popup">
                <button class="close-popup" id="close-popup">&times;</button>
                <div class="popup-header">
                    <h2 id="popup-category-title">Categor√≠a</h2>
                    <h3 id="popup-level-title">Nivel</h3>
                </div>
                <div class="question" id="popup-question">
                    Aqu√≠ aparecer√° la pregunta
                </div>

                <div class="popup-buttons">
                    <button class="btn btn-success" id="question-passed">Pregunta superada</button>
                    <button class="btn btn-change" id="change-question">Cambiar pregunta</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Asegurar que el layout responsivo funcione
        window.addEventListener('DOMContentLoaded', (event) => {
            function checkResponsive() {
                if (window.innerWidth <= 480) {
                    document.querySelectorAll('.categories').forEach(cat => {
                        cat.style.display = 'block';
                    });
                    document.querySelectorAll('.category').forEach(card => {
                        card.style.width = '100%';
                        card.style.display = 'block';
                        card.style.marginBottom = '20px';
                    });
                }
            }
            
            // Ejecutar al cargar y en cada resize
            checkResponsive();
            window.addEventListener('resize', checkResponsive);
        });

        // Banco de preguntas por categor√≠a y nivel
        const questions = {
            autoconcepto: {
                "1": [
                    { question: "Mira a alguien en la mesa y describe la emoci√≥n que crees que refleja su cuerpo en este momento." },
                    { question: "¬øQu√© parte de tu apariencia consideras √∫nica o poco com√∫n?" },
                    { question: "Elige a alguien en la mesa y describe su apariencia sin mencionar ninguna parte del cuerpo." },
                    { question: "¬øC√≥mo suena tu coraz√≥n cuando est√°s feliz?" },
                    { question: "Imita la pose o expresi√≥n de alguien en la mesa y deja que los dem√°s adivinen de qui√©n se trata." },
                    { question: "Si tu mente fuera un meme, ¬øcu√°l ser√≠a y por qu√© te representa?" },
                    { question: "Haz un discurso de despedida al estilo telenovela, la raz√≥n... Ya no podr√°s comer tu comida favorita." },
                    { question: "Si tu coraz√≥n hoy fuera un alimento, ¬øcu√°l ser√≠a y por qu√©?" },
                    { question: "¬øQu√© piensas cuando ves fotos tuyas de hace 10 a√±os?" },
                    { question: "¬øAlguna vez te lanzaste a un cambio de imagen radical? ¬øC√≥mo acab√≥ la historia?" },
                    { question: "Si tuvieras que intercambiar peinados con alguien de la mesa por un mes... ¬øcon qui√©n ser√≠a y por qu√©?" },
                    { question: "Si tu cuerpo pudiera hablar, ¬øqu√© dir√≠a justo ahora?" }
                ],
                "2": [
                    { question: "¬øQu√© rasgo f√≠sico se repite en tu familia? ¬øC√≥mo te hace sentir?" },
                    { question: "¬øHay alguna canci√≥n que te represente emocionalmente? ¬øCu√°l y por qu√©?" },
                    { question: "¬øC√≥mo suena tu coraz√≥n cuando est√°s en calma?" },
                    { question: "Eres Miranda Priestly. Juzga el estilo de vestir de la persona a tu derecha. ¬øPor qu√© escogiste ese enfoque?" },
                    { question: "¬øQu√© parte de tu f√≠sico antes no te gustaba pero ahora adoras?" },
                    { question: "¬øC√≥mo se ve el silencio en tu mente cuando est√°s en calma?" },
                    { question: "Usando solo colores, describe c√≥mo se siente tu coraz√≥n hoy. ¬øPor qu√© esos colores?" },
                    { question: "Imagina que est√°s en una cita con el enojo. Conv√©ncelo de por qu√© deber√≠an (o no) seguir juntos." },
                    { question: "Si fueras una celebridad, ¬øqu√© parte de tu f√≠sico crees que ser√≠a tu sello distintivo?" },
                    { question: "¬øCu√°l es el gesto o expresi√≥n corporal que m√°s usas sin darte cuenta?" },
                    { question: "Si tu personalidad estuviera hecha de 50% una emoci√≥n y 50% otra, ¬øcu√°les ser√≠an?" },
                    { question: "Tienes la posibilidad de darle una pregunta extra al jugador de tu elecci√≥n." }
                ],
                "3": [
                    { question: "Usando tus dotes de actuaci√≥n, exagera gesticulando la emoci√≥n contraria a la que sientes hoy." },
                    { question: "Si tu estado de √°nimo fuera el clima, ¬øqu√© tiempo har√≠a dentro de ti hoy?" },
                    { question: "¬øCu√°l es la emoci√≥n que m√°s te cuesta expresar y por qu√©?" },
                    { question: "¬øC√≥mo suena tu coraz√≥n cuando est√°s enojado?" },
                    { question: "¬øC√≥mo suena tu coraz√≥n cuando est√°s ansioso?" },
                    { question: "¬øC√≥mo suena tu coraz√≥n cuando est√°s triste?" },
                    { question: "Si tu cuerpo pudiera contar su propia historia, ¬øqu√© parte crees que tendr√≠a el relato m√°s interesante?" },
                    { question: "Si pudieras personalizar tu reflejo como un avatar de videojuego, ¬øqu√© cambiar√≠as y por qu√©?" },
                    { question: "Elimina alguna carta de pregunta de tu mazo." },
                    { question: "Carta de protecci√≥n: con esta podr√°s evitar los efectos de los comodines." }
                ]
            },
            relaciones: {
                "1": [
                    { question: "¬øQu√© es lo m√°s extra√±o que alguien ha dicho sobre tu apariencia?" },
                    { question: "¬øCu√°l ha sido tu peor metida de pata en p√∫blico?" },
                    { question: "¬øQu√© clich√© rom√°ntico del cine arruin√≥ tus expectativas sobre el amor?" },
                    { question: "Eres Sherlock Holmes. Solo con observar a la persona frente a ti, describe por qu√© ser√≠a un partidazo... ¬øy para qui√©n?" },
                    { question: "¬øCu√°l ha sido el rumor m√°s gracioso o absurdo que has escuchado sobre ti?" },
                    { question: "¬øCu√°l ha sido el mejor cumplido que te han dado practicando deporte?" },
                    { question: "Eres el jefe de la persona a tu derecha. Debes negarle sus vacaciones. ¬øPor qu√© usaste ese argumento?" },
                    { question: "La persona frente a ti se ha convertido en tu jefe. Conv√©ncelo de que te deje salir de vacaciones." },
                    { question: "¬øCu√°l ha sido el mejor cumplido que te han dado en el estudio?" },
                    { question: "¬øCu√°l ha sido el mejor cumplido que te han dado en el trabajo?" },
                    { question: "¬øQu√© idea ten√≠as del amor que ahora te causa risa?" },
                    { question: "Act√∫a como personaje de telenovela y hazle un cumplido a la persona a tu derecha." },
                    { question: "¬øPor qu√©crees que eso es un cumplido para esa persona?" },
                    { question: "¬øQu√© personaje ficticio representa mejor tu forma de amar?" },
                    { question: "Si pudieras inventar una nueva etiqueta para describir tu forma de amar, ¬øc√≥mo se llamar√≠a?" }
                ],
                "2": [
                    { question: "Si tu vida amorosa hoy fuera un libro de autoayuda, ¬øqu√© t√≠tulo tendr√≠a?" },
                    { question: "Elige una de estas caracter√≠sticas que encuentras m√°s atractiva en las personas: manos, ojos, voz, intelecto, presencia." },
                    { question: "Si tu historial amoroso fuera una pel√≠cula, ¬øc√≥mo se llamar√≠a?" },
                    { question: "Hazle una escena de celos a la persona a tu izquierda durante 30 segundos." },
                    { question: "¬øPor qu√© escogiste ese motivo para celarla?" },
                    { question: "¬øQu√© es lo menos com√∫n que te ha hecho sentir atracci√≥n por alguien?" },
                    { question: "¬øCu√°l ha sido el mejor cumplido que t√∫ has dado?" },
                    { question: "Si tu vida amorosa fuera un g√©nero de pel√≠cula, ¬øcu√°l ser√≠a y por qu√©?" },
                    { question: "Si hoy fueras Cupido, ¬øqu√© m√©todo usar√≠as para unir parejas y por qu√© funcionar√≠a?" },
                    { question: "Eres el jefe de la persona a tu izquierda. Debes despedirla‚Ä¶ pero hazlo solo por su g√©nero." },
                    { question: "Si pudieras hablar con tu \"yo\" enamorado del pasado, ¬øqu√© le dir√≠as?" },
                    { question: "¬øQu√© emoci√≥n o comportamiento sientes que la gente malinterpreta m√°s en ti?" },
                    { question: "Si no deseas responder a alguna carta, podr√°s pasar la pregunta al siguiente jugador." }
                ],
                "3": [
                    { question: "¬øCu√°l es la acci√≥n m√°s cuestionable que has hecho para alejar a alguien de ti?" },
                    { question: "¬øCu√°l ha sido el mejor cumplido que te han dado haciendo voluntariado?" },
                    { question: "¬øCu√°l ha sido el mejor cumplido que te han dado en el banco?" },
                    { question: "Si tu sexualidad fuera un personaje animado, ¬øqui√©n ser√≠a y por qu√©?" },
                    { question: "Recrea con alguien la escena de amor m√°s dram√°tica del cine que recuerdes." },
                    { question: "¬øQu√© emoci√≥n sientes que m√°s te conecta con otras personas?" },
                    { question: "Carta de protecci√≥n." },
                    { question: "Tienes la posibilidad de darle una pregunta extra al jugador de tu elecci√≥n." },
                    { question: "Elimina alguna carta de pregunta de tu mazo. Recibes una carta de pregunta." }
                ]
            },
            cultura: {
                "1": [
                    { question: "Si tu cerebro funcionara como un pa√≠s, ¬øcu√°l ser√≠a?" },
                    { question: "Comparte una frase o dicho que refleje tu forma de ver el mundo." },
                    { question: "Si pudieras aprender cualquier idioma al instante, ¬øcon qui√©n te gustar√≠a tener una conversaci√≥n y sobre qu√©?" },
                    { question: "¬øQu√© tradici√≥n familiar o personal sientes que m√°s te representa?" },
                    { question: "¬øCu√°l es esa actividad que consideras un placer culposo y por qu√©?" },
                    { question: "Si tuvieras que definirse como nerd, ¬øen qu√© tema lo ser√≠as?" },
                    { question: "Si tuvieras que resumir tu cultura en solo tres palabras, ¬øcu√°les usar√≠as?" },
                    { question: "Carta de protecci√≥n." }
                ],
                "2": [
                    { question: "Si pudieras convertir una costumbre familiar en un deporte ol√≠mpico, ¬øcu√°l ser√≠a y c√≥mo se jugar√≠a?" },
                    { question: "¬øConoces una palabra en otro idioma que no tiene traducci√≥n exacta al tuyo? ¬øQu√© significa?" },
                    { question: "Describe un platillo t√≠pico de tu cultura sin mencionar su nombre." },
                    { question: "Si pudieras fusionar dos culturas para crear una nueva, ¬øcu√°les elegir√≠as y qu√© tomar√≠as de cada una?" },
                    { question: "Has creado un idioma secreto. ¬øCon qui√©n lo hablar√≠as y por qu√©?" },
                    { question: "Est√°s a punto de crear un club de fans, ¬øde qu√© tratar√≠a?" },
                    { question: "Encuentra en menos de 30 segundos una tradici√≥n familiar que compartas con la persona a tu izquierda." },
                    { question: "Si pudieras hacer desaparecer una costumbre social, ¬øcu√°l ser√≠a?" },
                    { question: "Imagina que naciste en el pa√≠s que mencione el jugador a tu derecha y act√∫a c√≥mo crees que ser√≠a tu vida all√≠." },
                    { question: "Tienes la posibilidad de darle una pregunta extra al jugador de tu elecci√≥n." }
                ],
                "3": [
                    { question: "¬øQu√© rinc√≥n de tu casa no compartes con nadie y por qu√©?" },
                    { question: "¬øQu√© costumbre de tu cultura te causa risa cada vez que la ves o escuchas?" },
                    { question: "¬øPor qu√© deber√≠an pagarte m√°s en tu trabajo? ¬°Conv√©ncenos!" },
                    { question: "Di cu√°nto dinero ganas y explica por qu√© consideras que es justo lo que te pagan." },
                    { question: "Elimina alguna carta de pregunta de tu mazo." },
                    { question: "Si no deseas responder a alguna carta, podr√°s pasar la pregunta al siguiente jugador." }
                ]
            },
            experiencias: {
                "1": [
                    { question: "¬øQu√© experiencia extrema o arriesgada viviste y c√≥mo la recuerdas hoy?" },
                    { question: "¬øAlguna vez fingiste saber hacer algo y sali√≥ mal?" },
                    { question: "Cuenta una an√©cdota de tu ni√±ez usando √∫nicamente frases que dir√≠a una abuela." },
                    { question: "¬øCu√°l ha sido la decisi√≥n m√°s impulsiva que tomaste? ¬øC√≥mo termin√≥ esa historia?" },
                    { question: "¬øQu√© situaci√≥n de tu vida fue tan rara que nadie te creer√≠a si la contaras?" },
                    { question: "¬øCu√°l es el pensamiento m√°s rid√≠culo que has tenido justo cuando intentabas dormir?" },
                    { question: "Ponte el sombrero de periodista y crea un titular sensacionalista del momento m√°s ca√≥tico que has vivido." },
                    { question: "¬øCu√°l es el recuerdo que m√°s emociones contradictorias te genera?" },
                    { question: "Interpreta un anuncio publicitario sobre un objeto o juguete que defini√≥ tu infancia." },
                    { question: "Carta de protecci√≥n." },
                    { question: "¬øCu√°l fue tu primer gran fracaso? ¬øC√≥mo lo ves ahora?" },
                    { question: "¬øQu√© historia familiar siempre se cuenta, aunque ya todos se la sepan?" },
                    { question: "Si tus experiencias fueran una serie, ¬øcu√°l ser√≠a el cap√≠tulo piloto?" },
                    { question: "¬øQu√© cosa has aprendido de la manera m√°s dif√≠cil?" },
                    { question: "¬øQu√© objeto guardar√≠as en una c√°psula del tiempo como s√≠mbolo de tu infancia?" }
                ],
                "2": [
                    { question: "Si te dieran un d√≥lar por cada mala decisi√≥n que has tomado, ¬øser√≠as millonario? ¬øPor qu√©?" },
                    { question: "¬øAlguna vez te has sorprendido cambiando de opini√≥n de forma radical? Cu√©ntanos qu√© pas√≥." },
                    { question: "Si tuvieras que hacer una presentaci√≥n en PowerPoint con los momentos m√°s vergonzosos de tu vida‚Ä¶ ¬øQu√© habr√≠a en esas diapositivas?" },
                    { question: "¬øCu√°l fue la √∫ltima vez que sentiste orgullo por algo muy peque√±o?" },
                    { question: "¬øQu√© historia de tu adolescencia jam√°s le contar√≠as a tus padres?" },
                    { question: "¬øQu√© decisi√≥n dif√≠cil te dio miedo pero hoy agradeces haber tomado?" },
                    { question: "¬øQu√© mentira blanca dijiste y termin√≥ sali√©ndose de control?" },
                    { question: "¬øQu√© h√°bito de tu pasado crees que defini√≥ quien eres hoy?" },
                    { question: "¬øCu√°l es el momento m√°s random que termin√≥ cambiando tu vida?" }
                ],
                "3": [
                    { question: "Convi√©rtete en abogado y justifica una mala decisi√≥n que hayas tomado‚Ä¶ ¬°en pleno juicio!" },
                    { question: "¬øCu√°l es la cosa m√°s vergonzosa que te ha ocurrido durante una cita?" },
                    { question: "¬øQu√© experiencia √≠ntima sol√≠a intimidarte, pero ahora te encanta?" },
                    { question: "¬øQu√© momento inc√≥modo te hizo cuestionar tu identidad?" },
                    { question: "¬øQu√© experiencia repetitiva has vivido como un \"d√©j√† vu\" emocional?" },
                    { question: "¬øCu√°l ha sido tu peor reacci√≥n en una crisis?" },
                    { question: "¬øQu√© experiencia has callado por miedo a que te juzguen?" },
                    { question: "¬øQu√© momento viviste como un error, pero ahora lo ves como una lecci√≥n?" },
                    { question: "¬øQu√© parte de tu historia no est√°s listo para contar, pero te encantar√≠a alg√∫n d√≠a poder compartir?" }
                ]
            }
        };

        // Variables de estado
        let currentCategory = null;
        let currentLevel = null;
        let questionQueue = {};

        // Inicializar las colas de preguntas
        function initializeQueues() {
            console.log("Inicializando colas de preguntas");
            questionQueue = {};
            for (const category in questions) {
                questionQueue[category] = {};
                for (const level in questions[category]) {
                    // Crear una copia de las preguntas para cada nivel y categor√≠a
                    questionQueue[category][level] = [...questions[category][level]];
                    console.log(`Categor√≠a ${category}, nivel ${level}: ${questionQueue[category][level].length} preguntas cargadas`);
                }
            }
        }

        // Llamar a initializeQueues para cargar las preguntas
        initializeQueues();

        // A√±adir un conjunto inicial de preguntas de muestra
        // que se mostrar√°n cuando se inicie el juego por primera vez
        function addSampleQuestions() {
            // Agregar una pregunta de muestra a cada nivel y categor√≠a
            // para que el juego no est√© vac√≠o al inicio
            Object.keys(questions).forEach(category => {
                for(let level = 1; level <= 3; level++) {
                    const levelStr = level.toString();
                    if (!questions[category][levelStr] || questions[category][levelStr].length === 0) {
                        questions[category][levelStr] = [
                            { 
                                question: `Pregunta de muestra para ${category} nivel ${level}. Reemplaza con tus propias preguntas.`
                            }
                        ];
                    }
                }
            });
        }
        
        // Llamar a la funci√≥n para agregar preguntas de muestra
        addSampleQuestions();

        // Elementos DOM
        const questionPopup = document.getElementById('question-popup');
        const popupCategoryTitle = document.getElementById('popup-category-title');
        const popupLevelTitle = document.getElementById('popup-level-title');
        const popupQuestion = document.getElementById('popup-question');
        const questionPassedButton = document.getElementById('question-passed');
        const changeQuestionButton = document.getElementById('change-question');
        const closePopupButton = document.getElementById('close-popup');
        const levelButtons = document.querySelectorAll('.level-btn');

        // A√±adir listeners a los botones de nivel
        levelButtons.forEach(button => {
            button.addEventListener('click', function() {
                currentCategory = this.getAttribute('data-category');
                currentLevel = this.getAttribute('data-level');
                
                // Obtener textos para el popup
                const categoryName = this.closest('.category').querySelector('h2').textContent;
                const levelText = this.textContent;
                
                // Establecer textos del popup
                popupCategoryTitle.textContent = categoryName;
                popupLevelTitle.textContent = `Nivel ${currentLevel} - ${levelText}`;
                
            // Mostrar el popup
                showQuestion();
                questionPopup.style.display = 'flex';
            });
        });



        // Bot√≥n para pregunta superada
        questionPassedButton.addEventListener('click', () => {
            try {
                // Mover la pregunta actual al final de la cola
                const currentQuestion = questionQueue[currentCategory][currentLevel].shift();
                if (currentQuestion) {
                    questionQueue[currentCategory][currentLevel].push(currentQuestion);
                }
                // Cerrar el popup
                questionPopup.style.display = 'none';

            } catch (e) {
                console.error("Error en bot√≥n pregunta superada:", e);
                questionPopup.style.display = 'none';
            }
        });

        // Bot√≥n para cambiar pregunta
        changeQuestionButton.addEventListener('click', () => {
            try {
                // Rotar la cola de preguntas
                const currentQuestion = questionQueue[currentCategory][currentLevel].shift();
                if (currentQuestion) {
                    questionQueue[currentCategory][currentLevel].push(currentQuestion);
                }
                // Mostrar nueva pregunta
                showQuestion();
                // Restablecer el estado de la respuesta
    
            } catch (e) {
                console.error("Error en bot√≥n cambiar pregunta:", e);
                alert("Error al cambiar la pregunta. Intenta de nuevo.");
            }
        });

        // Bot√≥n para cerrar el popup
        closePopupButton.addEventListener('click', () => {
            questionPopup.style.display = 'none';
        });

        // Funci√≥n para mostrar una pregunta
        function showQuestion() {
            try {
                if (questionQueue[currentCategory] && 
                    questionQueue[currentCategory][currentLevel] && 
                    questionQueue[currentCategory][currentLevel].length > 0) {
                    const currentQuestion = questionQueue[currentCategory][currentLevel][0];
                    popupQuestion.textContent = currentQuestion.question;
                } else {
                    console.log("No hay preguntas disponibles para", currentCategory, currentLevel);
                    alert('No hay preguntas disponibles para esta categor√≠a y nivel.');
                    questionPopup.style.display = 'none';
                }
            } catch (error) {
                console.error("Error al mostrar pregunta:", error);
                alert('Ha ocurrido un error al mostrar la pregunta. Int√©ntalo de nuevo.');
                questionPopup.style.display = 'none';
            }
        }


    </script>
</body>
</html>
